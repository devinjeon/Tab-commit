# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class TabCommitGpt < Formula
  desc "tab-commit-gpt is a simplest way to generate commit messages â€” just press `<Tab>` after `git commit -m`."
  homepage "https://github.com/devinjeon/tab-commit-gpt"
  version "0.1.1"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/devinjeon/tab-commit-gpt/releases/download/v0.1.1/tab-commit-gpt_v0.1.1_darwin_x86_64.tar.gz"
      sha256 "e582761c2ca716e68879259b8ab4d54cb0a4d48bb7e3123f3ac27584d3486cf7"

      def install
        bin.install "tab-commit-gpt"
        bin.install "scripts/tab-commit-gpt.sh"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/devinjeon/tab-commit-gpt/releases/download/v0.1.1/tab-commit-gpt_v0.1.1_darwin_arm64.tar.gz"
      sha256 "5262913313a19add86b9e8fecea3268b950c9c0b4019b0ae4e12d9fd59eeb4b3"

      def install
        bin.install "tab-commit-gpt"
        bin.install "scripts/tab-commit-gpt.sh"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/devinjeon/tab-commit-gpt/releases/download/v0.1.1/tab-commit-gpt_v0.1.1_linux_x86_64.tar.gz"
        sha256 "2330b4e403e9a4339e0613a2e0b6f429202debc10c839e33372f76d5828e5b52"

        def install
          bin.install "tab-commit-gpt"
          bin.install "scripts/tab-commit-gpt.sh"
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/devinjeon/tab-commit-gpt/releases/download/v0.1.1/tab-commit-gpt_v0.1.1_linux_arm64.tar.gz"
        sha256 "ce98512573ad873e674f5c2582d24775ed6ffc2eaf1a8cad038d5fb09606fbb4"

        def install
          bin.install "tab-commit-gpt"
          bin.install "scripts/tab-commit-gpt.sh"
        end
      end
    end
  end

  def post_install
    (echo "source \"$(brew --prefix tab-commit-gpt)/scripts/tab-commit-gpt.sh\"" >> ~/.zshrc) ||
      echo 'To use tab-commit-gpt, add the following line to your .zshrc:
      $ echo "source \"$(brew --prefix tab-commit-gpt)/scripts/tab-commit-gpt.sh\"" >> ~/.zshrc'
  end

  def caveats
    <<~EOS
      To use tab-commit-gpt, add the following line to your .zshrc:

      $ echo "source \"$(brew --prefix tab-commit-gpt)/scripts/tab-commit-gpt.sh\"" >> ~/.zshrc
    EOS
  end
end
